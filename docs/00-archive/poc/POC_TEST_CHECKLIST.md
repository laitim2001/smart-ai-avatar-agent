# POC 測試檢查清單
**3D Avatar 即時對話系統 - 可執行測試清單**

## 文件資訊
- **專案名稱**: Smart AI Avatar Agent
- **階段**: POC (Proof of Concept)
- **文件類型**: 測試執行檢查清單
- **版本**: 1.0.0
- **建立日期**: 2025-10-15

---

## 使用說明

### 檢查清單格式
- [ ] 未完成項目
- [x] 已完成項目
- [!] 失敗項目（需修復）
- [~] 部分通過（需注意）

### 優先級標記
- **P0**: 必測項目（Critical）
- **P1**: 重要項目（High）
- **P2**: 次要項目（Medium）

### 測試狀態
- ✅ 通過
- ❌ 失敗
- ⚠️ 警告
- 🔄 進行中
- ⏸️ 暫停

---

## 測試前準備

### 環境設定檢查
- [ ] **P0** Node.js 18+ 已安裝
- [ ] **P0** npm 依賴已安裝（`npm install`）
- [ ] **P0** .env.local 已設定（包含 Azure API Keys）
- [ ] **P0** 開發伺服器可啟動（`npm run dev`）
- [ ] **P0** 生產建置成功（`npm run build`）
- [ ] **P1** Chrome DevTools 已準備
- [ ] **P1** 測試數據已準備
- [ ] **P2** 測試環境網路穩定

**備註**:
- 環境變數範例: `AZURE_OPENAI_API_KEY`, `AZURE_OPENAI_ENDPOINT`, `AZURE_SPEECH_KEY`, `AZURE_SPEECH_REGION`
- 測試前執行 `npm run lint` 確認無程式碼錯誤

---

## Epic 1: Foundation & Core Infrastructure

### Story 1.1: Next.js 專案初始化
- [ ] **P0** 開發伺服器啟動（`npm run dev`）
  - [ ] 啟動時間 < 5 秒
  - [ ] 訪問 http://localhost:3007 正常
  - [ ] Console 無 TypeScript 錯誤
- [ ] **P0** 生產建置（`npm run build`）
  - [ ] 建置成功（exit code 0）
  - [ ] .next 目錄包含 standalone/、static/、server/
  - [ ] 無 TypeScript 編譯錯誤
- [ ] **P1** TypeScript 檢查（`npx tsc --noEmit`）
  - [ ] 無型別錯誤
- [ ] **P1** ESLint 檢查（`npm run lint`）
  - [ ] 無嚴重錯誤（errors）
  - [ ] warnings < 5

**測試記錄**:
- 開發伺服器啟動時間: _____ 秒
- 建置時間: _____ 秒
- TypeScript 錯誤數: _____
- ESLint 錯誤數: _____

---

### Story 1.2: Azure 服務註冊與 SDK 整合
- [ ] **P0** Health API 測試
  - [ ] GET /api/health 返回 HTTP 200
  - [ ] 回應包含 status: "ok"
  - [ ] 回應時間 < 1 秒
- [ ] **P0** Azure OpenAI 連線測試
  - [ ] POST /api/chat 可連接
  - [ ] SSE 串流正常
  - [ ] 回應包含有效文字
- [ ] **P0** Azure Speech TTS 測試
  - [ ] POST /api/tts 返回 HTTP 200
  - [ ] Content-Type: audio/mpeg
  - [ ] 音訊檔案可播放
  - [ ] 語音清晰可辨識
- [ ] **P1** API 錯誤處理
  - [ ] 無效 API Key 返回錯誤
  - [ ] 網路錯誤有友善訊息

**測試記錄**:
- Health API 回應時間: _____ ms
- Chat API 首字回應: _____ 秒
- TTS API 回應時間: _____ 秒

---

### Story 1.3: 基礎 UI 框架與全域樣式設定
- [ ] **P0** 字型載入
  - [ ] Noto Sans TC 字型成功載入
  - [ ] Inter 字型成功載入
  - [ ] 字型載入時間 < 1 秒
- [ ] **P1** UI 組件顯示
  - [ ] Button 組件樣式正確
  - [ ] Input 組件樣式正確
  - [ ] Hover 效果正常
  - [ ] Focus 狀態正確
- [ ] **P1** 響應式設計
  - [ ] 1920x1080 顯示正常
  - [ ] 1366x768 顯示正常
  - [ ] 無水平滾動條

**測試記錄**:
- 字型載入時間: _____ ms
- UI 組件顯示: _____ (正常/異常)

---

### Story 1.4: 健康檢查 API 與基本錯誤處理
- [ ] **P0** Health Check API
  - [ ] GET /api/health 返回 HTTP 200
  - [ ] JSON 格式正確
  - [ ] 包含 status, timestamp, version, environment
  - [ ] 回應時間 < 100ms
- [ ] **P1** 錯誤處理
  - [ ] 無效 API 路徑返回 404
  - [ ] 無效請求格式返回 400
  - [ ] 錯誤訊息友善

**測試記錄**:
- Health API 回應時間: _____ ms
- 錯誤處理測試: _____ (通過/失敗)

---

### Story 1.5: GitHub Actions CI/CD 與 Azure 部署設定
- [ ] **P0** GitHub Actions Workflow
  - [ ] Workflow 自動觸發（推送至 main）
  - [ ] ESLint 檢查通過
  - [ ] TypeScript 檢查通過
  - [ ] Build 成功
- [ ] **P0** Azure Static Web Apps 部署
  - [ ] 部署成功（status: Succeeded）
  - [ ] 應用程式可訪問
  - [ ] 部署時間 < 10 分鐘
- [ ] **P1** 環境變數配置
  - [ ] Azure Portal 環境變數已設定
  - [ ] GitHub Secrets 已設定

**測試記錄**:
- 部署時間: _____ 分鐘
- 部署狀態: _____ (成功/失敗)

---

## Epic 2: 3D Avatar Rendering & Animation

### Story 2.1: Three.js 場景初始化與 React Three Fiber 整合
- [ ] **P0** 3D Canvas 渲染
  - [ ] Canvas 正常顯示
  - [ ] 背景漸層效果正確
  - [ ] 無黑屏或錯誤
- [ ] **P1** 場景燈光
  - [ ] AmbientLight 照亮場景
  - [ ] DirectionalLight 提供方向光
  - [ ] 陰影效果正確
- [ ] **P1** OrbitControls 互動
  - [ ] 滑鼠拖曳可旋轉
  - [ ] 縮放功能禁用
  - [ ] 旋轉角度限制正確

**測試記錄**:
- Canvas 渲染: _____ (正常/異常)
- 燈光效果: _____ (正常/異常)

---

### Story 2.2: Ready Player Me Avatar 模型載入
- [ ] **P0** Avatar 模型載入
  - [ ] 顯示「載入 3D Avatar...」訊息
  - [ ] 模型載入時間 < 5 秒
  - [ ] Avatar 完整顯示（無缺失部位）
- [ ] **P1** Avatar 材質與貼圖
  - [ ] 皮膚材質逼真
  - [ ] 衣服貼圖清晰
  - [ ] 無明顯瑕疵
- [ ] **P1** 錯誤處理
  - [ ] 網路錯誤顯示友善訊息
  - [ ] 提供重試選項
  - [ ] 應用程式不崩潰

**測試記錄**:
- Avatar 載入時間: _____ 秒
- 材質品質: _____ (優/良/差)

---

### Story 2.3: Avatar 待機動畫實作（呼吸、眨眼）
- [ ] **P0** 呼吸動畫
  - [ ] 呼吸動畫循環播放
  - [ ] 頻率自然（約 12-15 次/分鐘）
  - [ ] 幅度適中
  - [ ] 無突兀停頓
- [ ] **P0** 眨眼動畫
  - [ ] 眨眼間隔隨機（2-6 秒）
  - [ ] 眨眼速度自然
  - [ ] eyesClosed blendshape 正常
- [ ] **P1** 動畫流暢度
  - [ ] FPS ≥ 30（理想 60）
  - [ ] 無明顯掉幀
  - [ ] CPU 使用率 < 30%

**測試記錄**:
- 呼吸頻率: _____ 次/分鐘
- 眨眼間隔: _____ 秒
- FPS: _____ (平均)

---

### Story 2.4: Avatar 基本表情與頭部動作
- [ ] **P1** 微笑表情
  - [ ] mouthSmile blendshape 正常
  - [ ] 過渡自然（Ease-In-Out）
  - [ ] 表情持續時間適中
- [ ] **P1** 點頭動作
  - [ ] 頭部前後擺動
  - [ ] 動作流暢
  - [ ] 無異常旋轉
- [ ] **P1** 多種動畫同時運行
  - [ ] 呼吸、眨眼、微笑無衝突
  - [ ] 混合自然
  - [ ] FPS 穩定

**測試記錄**:
- 表情測試: _____ (通過/失敗)
- 動作測試: _____ (通過/失敗)

---

### Story 2.5: Avatar 選擇功能與切換
- [ ] **P0** Avatar 選擇器 UI
  - [ ] Modal 顯示 3 個 Avatar 卡片
  - [ ] 每個卡片顯示預覽圖、名稱
  - [ ] UI 響應靈敏
- [ ] **P0** Avatar 切換
  - [ ] 淡出效果（300ms）
  - [ ] 新 Avatar 載入
  - [ ] 淡入效果（300ms）
  - [ ] 總切換時間 < 5 秒
- [ ] **P1** 狀態持久化
  - [ ] localStorage 儲存 Avatar ID
  - [ ] 重新整理後自動載入正確 Avatar

**測試記錄**:
- Avatar 切換時間: _____ 秒
- 持久化測試: _____ (通過/失敗)

---

## Epic 3: LLM Conversation & TTS Integration

### Story 3.1: 對話介面 UI 實作
- [ ] **P0** 訊息輸入
  - [ ] 輸入框可輸入文字
  - [ ] Enter 鍵送出訊息
  - [ ] 使用者訊息顯示（藍色氣泡）
  - [ ] 輸入框清空
- [ ] **P1** 多行輸入
  - [ ] Shift+Enter 換行
  - [ ] Enter 送出整段訊息
- [ ] **P1** 訊息列表顯示
  - [ ] 訊息列表正確顯示
  - [ ] 自動滾動到最新訊息
  - [ ] 使用者/Assistant 訊息顏色區分

**測試記錄**:
- 輸入功能: _____ (正常/異常)
- 訊息顯示: _____ (正常/異常)

---

### Story 3.2: Zustand 狀態管理設定
- [ ] **P1** chatStore 狀態更新
  - [ ] messages 陣列正確更新
  - [ ] isTyping 狀態正確切換
  - [ ] 無狀態洩漏
- [ ] **P1** audioStore 狀態更新
  - [ ] isPlaying 正確為 true
  - [ ] currentTime 正確更新
  - [ ] 播放結束後狀態重置
- [ ] **P1** avatarStore 持久化
  - [ ] selectedAvatar 正確持久化
  - [ ] localStorage 讀取正確

**測試記錄**:
- 狀態管理: _____ (正常/異常)

---

### Story 3.3: Chat API 實作（Azure OpenAI + SSE）
- [ ] **P0** SSE 串流回應
  - [ ] HTTP 200 OK
  - [ ] Content-Type: text/event-stream
  - [ ] 逐字回應（data: {"content": "..."}）
  - [ ] 串流結束後連線關閉
- [ ] **P1** 對話上下文
  - [ ] LLM 保留對話上下文
  - [ ] 多輪對話正常
- [ ] **P1** 超時處理
  - [ ] API 超時返回 500 錯誤
  - [ ] 錯誤訊息友善
  - [ ] 重試機制觸發

**測試記錄**:
- SSE 串流: _____ (正常/異常)
- 對話上下文: _____ (正常/異常)

---

### Story 3.4: SSE 串流接收與即時顯示
- [ ] **P0** 逐字顯示
  - [ ] 逐字顯示（每 100ms 更新）
  - [ ] 無字元遺失
  - [ ] 無閃爍
- [ ] **P1** 串流中斷處理
  - [ ] 顯示錯誤訊息
  - [ ] 已接收的文字保留
  - [ ] 提供重試選項

**測試記錄**:
- 逐字顯示: _____ (正常/異常)

---

### Story 3.5: TTS API 實作
- [ ] **P0** 語音合成
  - [ ] HTTP 200 OK
  - [ ] Content-Type: audio/mpeg
  - [ ] 音訊檔案大小合理（約 20-50 KB）
  - [ ] TTS 延遲 < 2 秒
- [ ] **P0** 語音品質
  - [ ] 語音清晰
  - [ ] 發音準確
  - [ ] 語調自然
  - [ ] 無雜音
- [ ] **P1** 長句處理
  - [ ] 成功合成長句（> 100 字）
  - [ ] 無截斷
  - [ ] 播放流暢

**測試記錄**:
- TTS 延遲: _____ 秒
- 語音品質: _____ (優/良/差)

---

### Story 3.6: Web Audio API 音訊播放整合
- [ ] **P0** 音訊播放
  - [ ] 音訊自動播放
  - [ ] 播放流暢無斷續
  - [ ] 音量適中
- [ ] **P1** 音訊佇列
  - [ ] 音訊依序播放
  - [ ] 無重疊
  - [ ] 無遺漏
- [ ] **P1** Blob URL 清理
  - [ ] Blob URL 自動清理
  - [ ] 記憶體無異常增長

**測試記錄**:
- 音訊播放: _____ (正常/異常)
- 記憶體增長: _____ MB

---

### Story 3.7: 端到端對話流程整合與優化
- [ ] **P0** 完整對話流程
  - [ ] 訊息送出 → LLM 回應 → TTS 播放 → Lip Sync
  - [ ] 總延遲 < 5 秒
  - [ ] 無錯誤
- [ ] **P1** 效能監控
  - [ ] LLM 時間 < 3 秒
  - [ ] TTS 時間 < 2 秒
  - [ ] 總時間 < 5 秒
- [ ] **P1** TTS 失敗降級
  - [ ] 僅顯示文字
  - [ ] 無 Avatar 說話動作
  - [ ] 使用者可繼續對話

**測試記錄**:
- 完整流程時間: _____ 秒
- LLM 時間: _____ 秒
- TTS 時間: _____ 秒

---

## Epic 4: Lip Sync & Audio-Visual Synchronization

### Story 4.1: 音訊分析與 Viseme 數據生成
- [ ] **P0** Viseme 提取
  - [ ] Viseme 數據包含 22 種 viseme
  - [ ] 時間戳記正確
  - [ ] Duration 計算準確
- [ ] **P1** 音量分析
  - [ ] RMS 值合理（0.0-1.0）
  - [ ] 無 NaN 或 Infinity

**測試記錄**:
- Viseme 數量: _____
- RMS 範圍: _____

---

### Story 4.2: Avatar Blendshape 控制與嘴型驅動
- [ ] **P0** Blendshape 映射
  - [ ] jawOpen blendshape 啟動
  - [ ] mouthOpen blendshape 啟動
  - [ ] 嘴型符合發音
- [ ] **P1** Easing 過渡
  - [ ] 使用 Ease-In-Out 過渡
  - [ ] 過渡流暢
  - [ ] 無突兀跳動

**測試記錄**:
- Blendshape 測試: _____ (通過/失敗)

---

### Story 4.3: Lip Sync Controller 與音訊同步
- [ ] **P0** 同步延遲測試
  - [ ] 同步延遲 < 50ms
  - [ ] 無明顯延遲感
- [ ] **P1** Binary Search 效能
  - [ ] 查找時間 < 1ms
  - [ ] O(log n) 複雜度
- [ ] **P1** 長句穩定性
  - [ ] 全程同步穩定（30 秒長句）
  - [ ] FPS 穩定 ≥ 30
  - [ ] 無累積延遲

**測試記錄**:
- 同步延遲: _____ ms
- Viseme 查找時間: _____ ms

---

### Story 4.4: Lip Sync 視覺優化與調校
- [ ] **P1** 配置切換
  - [ ] 切換至 highQuality 配置即時生效
  - [ ] 視覺品質提升
  - [ ] FPS 穩定
- [ ] **P1** 參數調整
  - [ ] 調整 smoothing 參數生效
  - [ ] 嘴型過渡更平滑
  - [ ] 無異常抖動

**測試記錄**:
- 配置切換: _____ (正常/異常)

---

### Story 4.5: Lip Sync 降級方案與錯誤處理
- [ ] **P1** Viseme 缺失降級
  - [ ] 自動切換至 volume-driven 模式
  - [ ] 根據音量控制嘴型
  - [ ] 使用者無感知切換
- [ ] **P1** 靜音模式
  - [ ] 嘴型保持 neutral
  - [ ] 無異常動作

**測試記錄**:
- 降級測試: _____ (通過/失敗)

---

## Epic 5: Polish, Testing & Deployment

### Story 5.1: 效能優化（3D 渲染與音訊）
- [ ] **P0** TTS 快取
  - [ ] 第二次請求使用快取
  - [ ] 回應時間 < 100ms
  - [ ] 快取命中率 40-60%
- [ ] **P1** useFrame 優化
  - [ ] FPS 穩定 60
  - [ ] 效能提升 10-15%

**測試記錄**:
- 快取命中率: _____ %
- FPS: _____

---

### Story 5.2: 錯誤處理與使用者體驗完善
- [ ] **P0** Error Boundary
  - [ ] Error Boundary 捕捉錯誤
  - [ ] 顯示友善錯誤頁面
  - [ ] 應用程式不崩潰
- [ ] **P1** API 重試機制
  - [ ] 自動重試 1 次
  - [ ] 重試成功則正常運作
  - [ ] 重試失敗顯示錯誤

**測試記錄**:
- 錯誤處理: _____ (通過/失敗)

---

### Story 5.3: UI/UX 細節打磨
- [ ] **P1** 動畫過渡
  - [ ] Button hover 動畫流暢
  - [ ] Modal 淡入淡出流暢
  - [ ] 持續時間適中（200-300ms）
- [ ] **P1** 無障礙支援
  - [ ] Tab 鍵導航正常
  - [ ] 焦點順序正確
  - [ ] ARIA 屬性正確

**測試記錄**:
- 動畫測試: _____ (通過/失敗)
- 無障礙測試: _____ (通過/失敗)

---

### Story 5.4: 瀏覽器相容性測試
**詳見 [瀏覽器相容性測試](#瀏覽器相容性測試) 章節**

---

### Story 5.5: Azure Static Web Apps 生產部署
- [ ] **P0** 部署流程
  - [ ] 推送 commit 至 main
  - [ ] GitHub Actions 自動觸發
  - [ ] 部署成功
  - [ ] 部署時間 < 10 分鐘
  - [ ] 應用程式正常訪問

**測試記錄**:
- 部署時間: _____ 分鐘
- 部署狀態: _____ (成功/失敗)

---

## 效能測試

### 3D 渲染效能
- [ ] **P0** 平均 FPS 測試
  - [ ] 平均 FPS ≥ 30
  - [ ] 理想 FPS = 60
  - [ ] 最低 FPS ≥ 25
- [ ] **P1** GPU 使用率測試
  - [ ] GPU 使用率 < 80%
  - [ ] 理想使用率 25-35%
- [ ] **P1** CPU 使用率測試
  - [ ] CPU 使用率 < 60%
  - [ ] 理想使用率 15-25%

**測試記錄**:
- 平均 FPS: _____
- 最低 FPS: _____
- GPU 使用率: _____ %
- CPU 使用率: _____ %

---

### 載入效能
- [ ] **P0** 首次載入時間測試
  - [ ] HTML 載入 < 500ms
  - [ ] JavaScript 載入 < 2s
  - [ ] Avatar 模型載入 < 5s
  - [ ] 首次互動時間（TTI） < 5s
- [ ] **P1** Bundle 大小測試
  - [ ] 首頁 Bundle < 500 KB
  - [ ] Shared JS < 200 KB
  - [ ] 總 JS < 700 KB

**測試記錄**:
- HTML 載入: _____ ms
- JavaScript 載入: _____ s
- Avatar 載入: _____ s
- TTI: _____ s
- 首頁 Bundle: _____ KB

---

### 對話效能
- [ ] **P0** LLM 回應時間測試
  - [ ] LLM 首字 < 2 秒
  - [ ] 完整回應 < 3 秒
  - [ ] 總延遲（含 TTS） < 5 秒
- [ ] **P0** TTS 合成時間測試
  - [ ] TTS 合成時間 < 2 秒
  - [ ] 理想時間 1.2-1.8 秒
- [ ] **P1** TTS 快取測試
  - [ ] 快取命中率 40-60%
  - [ ] 快取命中回應時間 < 100ms

**測試記錄**:
- LLM 首字: _____ s
- LLM 完整回應: _____ s
- TTS 合成: _____ s
- 總延遲: _____ s
- 快取命中率: _____ %

---

### Lip Sync 效能
- [ ] **P0** Lip Sync 延遲測試
  - [ ] 同步延遲 < 50ms
  - [ ] 理想延遲 ~20ms
- [ ] **P1** Viseme 查找效能測試
  - [ ] 查找時間 < 1ms
  - [ ] 理想時間 ~0.5ms

**測試記錄**:
- Lip Sync 延遲: _____ ms
- Viseme 查找: _____ ms

---

### 記憶體管理
- [ ] **P0** 記憶體使用測試
  - [ ] 首次載入 < 200 MB
  - [ ] 10 次對話後 < 300 MB
  - [ ] 穩定狀態 < 500 MB
- [ ] **P0** 記憶體洩漏測試
  - [ ] 記憶體增長 < 50 MB（20 次對話）
  - [ ] Blob URL 自動清理
  - [ ] Three.js 資源正確釋放
  - [ ] Event listeners 正確移除

**測試記錄**:
- 首次載入: _____ MB
- 10 次對話後: _____ MB
- 20 次對話增長: _____ MB

---

## 瀏覽器相容性測試

### Chrome 120+
- [ ] **P0** 核心功能測試
  - [ ] 3D 渲染: 60 FPS
  - [ ] 載入時間: ~1.8 秒
  - [ ] 對話功能: 正常
  - [ ] 音訊播放: 正常
  - [ ] Lip Sync: 延遲 ~28ms
  - [ ] 記憶體使用: ~150 MB
- [ ] **P0** 評分: A+（預期）

**測試記錄**:
- FPS: _____
- 載入時間: _____ s
- Lip Sync 延遲: _____ ms
- 評分: _____

---

### Edge 120+
- [ ] **P0** 核心功能測試
  - [ ] 3D 渲染: 58-60 FPS
  - [ ] 載入時間: ~1.9 秒
  - [ ] 對話功能: 正常
  - [ ] 音訊播放: 正常
  - [ ] Lip Sync: 延遲 ~30ms
  - [ ] 記憶體使用: ~155 MB
- [ ] **P0** 評分: A+（預期）

**測試記錄**:
- FPS: _____
- 載入時間: _____ s
- Lip Sync 延遲: _____ ms
- 評分: _____

---

### Firefox 120+
- [ ] **P1** 核心功能測試
  - [ ] 3D 渲染: 45-50 FPS
  - [ ] 載入時間: ~2.5 秒
  - [ ] 對話功能: 正常
  - [ ] 音訊播放: 正常（延遲 +50ms）
  - [ ] Lip Sync: 延遲 ~52ms
  - [ ] 記憶體使用: ~180 MB
- [ ] **P1** 已知差異確認
  - [ ] Web Audio API 播放延遲 +50ms
  - [ ] 3D 效能略低於 Chromium
- [ ] **P1** 評分: A（預期）

**測試記錄**:
- FPS: _____
- 載入時間: _____ s
- Lip Sync 延遲: _____ ms
- 評分: _____

---

### Safari 17+
- [ ] **P1** 核心功能測試
  - [ ] 3D 渲染: 30-40 FPS
  - [ ] 載入時間: ~3.5 秒
  - [ ] 對話功能: 正常
  - [ ] 音訊播放: 正常
  - [ ] Lip Sync: 延遲 ~82ms
  - [ ] 記憶體使用: ~200 MB
- [ ] **P1** 已知限制確認
  - [ ] WebGL 效能較差（約低 30-40%）
  - [ ] Lip Sync 延遲較高
- [ ] **P1** 評分: B+（預期）

**測試記錄**:
- FPS: _____
- 載入時間: _____ s
- Lip Sync 延遲: _____ ms
- 評分: _____

---

## 安全性測試

### API 安全性
- [ ] **P0** API Key 洩漏檢查
  - [ ] 前端程式碼無 API Keys
  - [ ] Network 請求無 API Keys
  - [ ] API Keys 僅存在於後端
- [ ] **P0** 環境變數洩漏檢查
  - [ ] 僅 NEXT_PUBLIC_ 變數在前端
  - [ ] 敏感變數僅在後端
- [ ] **P1** API 輸入驗證測試
  - [ ] 無效輸入返回 400
  - [ ] 錯誤訊息描述問題

**測試記錄**:
- API Key 洩漏: _____ (通過/失敗)
- 環境變數洩漏: _____ (通過/失敗)

---

### XSS 防護
- [ ] **P1** XSS 注入測試
  - [ ] 腳本不執行
  - [ ] React 自動轉義 HTML
  - [ ] 訊息正常顯示為文字

**測試記錄**:
- XSS 測試: _____ (通過/失敗)

---

### CORS
- [ ] **P1** CORS 策略測試
  - [ ] POC: 允許所有來源（*）
  - [ ] MVP: 限制特定網域（未來）

**測試記錄**:
- CORS 策略: _____ (通過/失敗)

---

## 可用性測試

### 使用者體驗
- [ ] **P1** 首次使用體驗
  - [ ] 使用者可快速理解功能
  - [ ] 無明顯困惑
  - [ ] 5 分鐘內完成首次對話
- [ ] **P1** 錯誤訊息清晰度
  - [ ] 錯誤訊息使用繁體中文
  - [ ] 描述問題與解決方法
  - [ ] 無技術術語
- [ ] **P1** 載入狀態回饋
  - [ ] Avatar 載入顯示進度
  - [ ] 對話載入顯示 typing indicator
  - [ ] 載入訊息友善

**測試記錄**:
- 使用者體驗: _____ (優/良/差)
- 錯誤訊息: _____ (清晰/模糊)

---

### 無障礙
- [ ] **P1** 鍵盤導航
  - [ ] 焦點順序正確
  - [ ] Enter 可觸發按鈕
  - [ ] Shift+Enter 換行
- [ ] **P1** ARIA 屬性
  - [ ] 重要元素有 ARIA 標籤
  - [ ] 角色定義正確

**測試記錄**:
- 鍵盤導航: _____ (通過/失敗)
- ARIA 屬性: _____ (通過/失敗)

---

## 回歸測試

### Stories 驗收測試
- [ ] **P0** 所有 29 Stories 驗收測試
  - [ ] Epic 1: 5/5 通過
  - [ ] Epic 2: 5/5 通過
  - [ ] Epic 3: 7/7 通過
  - [ ] Epic 4: 5/5 通過
  - [ ] Epic 5: 7/7 通過

**測試記錄**:
- Epic 1 通過數: _____ / 5
- Epic 2 通過數: _____ / 5
- Epic 3 通過數: _____ / 7
- Epic 4 通過數: _____ / 5
- Epic 5 通過數: _____ / 7
- **總計**: _____ / 29

---

### 端到端流程
- [ ] **P0** 完整對話流程測試
  1. [ ] 訪問首頁
  2. [ ] 選擇 Avatar
  3. [ ] 發送訊息「你好」
  4. [ ] 等待完整回應
  5. [ ] 再發送「介紹一下你自己」
  6. [ ] 清除對話
  - [ ] 所有步驟正常
  - [ ] 無錯誤
  - [ ] 使用者體驗流暢
- [ ] **P1** Avatar 切換流程測試
  1. [ ] 選擇 Avatar A
  2. [ ] 進行對話
  3. [ ] 切換至 Avatar B
  4. [ ] 繼續對話
  - [ ] 切換流暢
  - [ ] 對話歷史保留
  - [ ] 新 Avatar 正常運作

**測試記錄**:
- 端到端流程: _____ (通過/失敗)
- Avatar 切換: _____ (通過/失敗)

---

## 測試總結

### 測試統計

| 類別 | 總數 | 通過 | 失敗 | 通過率 |
|------|------|------|------|--------|
| Epic 1 | ___ | ___ | ___ | ___% |
| Epic 2 | ___ | ___ | ___ | ___% |
| Epic 3 | ___ | ___ | ___ | ___% |
| Epic 4 | ___ | ___ | ___ | ___% |
| Epic 5 | ___ | ___ | ___ | ___% |
| 效能測試 | ___ | ___ | ___ | ___% |
| 相容性測試 | ___ | ___ | ___ | ___% |
| 安全性測試 | ___ | ___ | ___ | ___% |
| 可用性測試 | ___ | ___ | ___ | ___% |
| 回歸測試 | ___ | ___ | ___ | ___% |
| **總計** | ___ | ___ | ___ | ___% |

**通過標準**: 總通過率 ≥ 95%

---

### 失敗項目記錄

#### 失敗項目 1
- **項目**: _____________
- **狀態**: ❌ 失敗
- **問題描述**: _____________
- **影響**: 高/中/低
- **解決方案**: _____________
- **預計修復時間**: _____ 天

#### 失敗項目 2
- **項目**: _____________
- **狀態**: ❌ 失敗
- **問題描述**: _____________
- **影響**: 高/中/低
- **解決方案**: _____________
- **預計修復時間**: _____ 天

---

### 關鍵發現

#### 優點
1. _____________
2. _____________
3. _____________

#### 待改進
1. _____________
2. _____________
3. _____________

---

### 建議

#### 立即修復
1. _____________
2. _____________

#### 文件更新
1. _____________
2. _____________

#### 未來優化（MVP 階段）
1. _____________
2. _____________

---

## 測試結論

**POC 驗證結果**: _____ (通過/失敗/部分通過)

**理由**: _____________

**下一步行動**: _____________

---

**測試人員**: _____________
**測試日期**: 2025-10-___
**審查人員**: _____________
**審查日期**: 2025-10-___

---

## 版本歷史

| 版本 | 日期 | 變更內容 | 作者 |
|------|------|----------|------|
| 1.0.0 | 2025-10-15 | 初始版本，創建 POC 測試檢查清單 | Quality Engineer |

---

**文件維護**: Quality Engineer
**最後更新**: 2025-10-15
**適用專案**: Smart AI Avatar Agent POC
**文件狀態**: 最終版本
